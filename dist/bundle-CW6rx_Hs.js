var pbrain_wpplugin=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function l(t){return document.createElement(t)}function u(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(){return d("")}function m(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t){return function(e){return e.preventDefault(),t.call(this,e)}}function h(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e){t.value=null==e?"":e}function $(t,e,n){t.classList.toggle(e,!!n)}let v;function x(t){v=t}function N(){const t=function(){if(!v)throw new Error("Function called outside component initialization");return v}();return(e,n,{cancelable:r=!1}={})=>{const o=t.$$.callbacks[e];if(o){const a=function(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}(e,n,{cancelable:r});return o.slice().forEach((e=>{e.call(t,a)})),!a.defaultPrevented}return!0}}const _=[],C=[];let O=[];const E=[],k=Promise.resolve();let I=!1;function S(t){O.push(t)}const P=new Set;let z=0;function j(){if(0!==z)return;const t=v;do{try{for(;z<_.length;){const t=_[z];z++,x(t),A(t.$$)}}catch(t){throw _.length=0,z=0,t}for(x(null),_.length=0,z=0;C.length;)C.pop()();for(let t=0;t<O.length;t+=1){const e=O[t];P.has(e)||(P.add(e),e())}O.length=0}while(_.length);for(;E.length;)E.pop()();I=!1,P.clear(),x(t)}function A(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const T=new Set;let L;function B(){L={r:0,c:[],p:L}}function K(){L.r||r(L.c),L=L.p}function W(t,e){t&&t.i&&(T.delete(t),t.i(e))}function F(t,e,n,r){if(t&&t.o){if(T.has(t))return;T.add(t),L.c.push((()=>{T.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function G(t){t&&t.c()}function M(t,n,a){const{fragment:i,after_update:s}=t.$$;i&&i.m(n,a),S((()=>{const n=t.$$.on_mount.map(e).filter(o);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),s.forEach(S)}function X(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];O.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),O=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(t,e){-1===t.$$.dirty[0]&&(_.push(t),I||(I=!0,k.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(e,o,a,i,s,l,u=null,d=[-1]){const f=v;x(e);const p=e.$$={fragment:null,ctx:[],props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||f.$$.root};u&&u(p.root);let m=!1;if(p.ctx=a?a(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),m&&Y(e,t)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();o.intro&&W(e.$$.fragment),M(e,o.target,o.anchor),j()}x(f)}class J{$$=void 0;$$set=void 0;$destroy(){X(this,1),this.$destroy=t}$on(e,n){if(!o(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function R(t){let e,n,r,o,a,l,d;function f(t,e){return"string"==typeof t[16][4]?q:U}let p=f(t),m=p(t);return{c(){e=u("svg"),n=u("g"),r=u("g"),m.c(),y(r,"transform",t[15]),y(n,"transform",o="translate("+t[16][0]/2+" "+t[16][1]/2+")"),y(n,"transform-origin",a=t[16][0]/4+" 0"),y(e,"id",t[1]),y(e,"class",l="svelte-fa svelte-fa-base "+t[0]+" svelte-173u3fe"),y(e,"style",t[2]),y(e,"viewBox",d="0 0 "+t[16][0]+" "+t[16][1]),y(e,"aria-hidden","true"),y(e,"role","img"),y(e,"xmlns","http://www.w3.org/2000/svg"),$(e,"pulse",t[8]),$(e,"svelte-fa-size-lg","lg"===t[3]),$(e,"svelte-fa-size-sm","sm"===t[3]),$(e,"svelte-fa-size-xs","xs"===t[3]),$(e,"svelte-fa-fw",t[5]),$(e,"svelte-fa-pull-left","left"===t[6]),$(e,"svelte-fa-pull-right","right"===t[6]),$(e,"spin",t[7])},m(o,a){s(o,e,a),i(e,n),i(n,r),m.m(r,null),t[23](e)},p(t,i){p===(p=f(t))&&m?m.p(t,i):(m.d(1),m=p(t),m&&(m.c(),m.m(r,null))),32768&i&&y(r,"transform",t[15]),65536&i&&o!==(o="translate("+t[16][0]/2+" "+t[16][1]/2+")")&&y(n,"transform",o),65536&i&&a!==(a=t[16][0]/4+" 0")&&y(n,"transform-origin",a),2&i&&y(e,"id",t[1]),1&i&&l!==(l="svelte-fa svelte-fa-base "+t[0]+" svelte-173u3fe")&&y(e,"class",l),4&i&&y(e,"style",t[2]),65536&i&&d!==(d="0 0 "+t[16][0]+" "+t[16][1])&&y(e,"viewBox",d),257&i&&$(e,"pulse",t[8]),9&i&&$(e,"svelte-fa-size-lg","lg"===t[3]),9&i&&$(e,"svelte-fa-size-sm","sm"===t[3]),9&i&&$(e,"svelte-fa-size-xs","xs"===t[3]),33&i&&$(e,"svelte-fa-fw",t[5]),65&i&&$(e,"svelte-fa-pull-left","left"===t[6]),65&i&&$(e,"svelte-fa-pull-right","right"===t[6]),129&i&&$(e,"spin",t[7])},d(n){n&&c(e),m.d(),t[23](null)}}}function U(t){let e,n,r,o,a,i,l,d,f,p;return{c(){e=u("path"),i=u("path"),y(e,"d",n=t[16][4][0]),y(e,"fill",r=t[10]||t[4]||"currentColor"),y(e,"fill-opacity",o=0!=t[13]?t[11]:t[12]),y(e,"transform",a="translate("+t[16][0]/-2+" "+t[16][1]/-2+")"),y(i,"d",l=t[16][4][1]),y(i,"fill",d=t[9]||t[4]||"currentColor"),y(i,"fill-opacity",f=0!=t[13]?t[12]:t[11]),y(i,"transform",p="translate("+t[16][0]/-2+" "+t[16][1]/-2+")")},m(t,n){s(t,e,n),s(t,i,n)},p(t,s){65536&s&&n!==(n=t[16][4][0])&&y(e,"d",n),1040&s&&r!==(r=t[10]||t[4]||"currentColor")&&y(e,"fill",r),14336&s&&o!==(o=0!=t[13]?t[11]:t[12])&&y(e,"fill-opacity",o),65536&s&&a!==(a="translate("+t[16][0]/-2+" "+t[16][1]/-2+")")&&y(e,"transform",a),65536&s&&l!==(l=t[16][4][1])&&y(i,"d",l),528&s&&d!==(d=t[9]||t[4]||"currentColor")&&y(i,"fill",d),14336&s&&f!==(f=0!=t[13]?t[12]:t[11])&&y(i,"fill-opacity",f),65536&s&&p!==(p="translate("+t[16][0]/-2+" "+t[16][1]/-2+")")&&y(i,"transform",p)},d(t){t&&(c(e),c(i))}}}function q(t){let e,n,r,o;return{c(){e=u("path"),y(e,"d",n=t[16][4]),y(e,"fill",r=t[4]||t[9]||"currentColor"),y(e,"transform",o="translate("+t[16][0]/-2+" "+t[16][1]/-2+")")},m(t,n){s(t,e,n)},p(t,a){65536&a&&n!==(n=t[16][4])&&y(e,"d",n),528&a&&r!==(r=t[4]||t[9]||"currentColor")&&y(e,"fill",r),65536&a&&o!==(o="translate("+t[16][0]/-2+" "+t[16][1]/-2+")")&&y(e,"transform",o)},d(t){t&&c(e)}}}function D(e){let n,r=e[16][4]&&R(e);return{c(){r&&r.c(),n=p()},m(t,e){r&&r.m(t,e),s(t,n,e)},p(t,[e]){t[16][4]?r?r.p(t,e):(r=R(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){t&&c(n),r&&r.d(t)}}}function Q(t,e,n){let r,o,a,{class:i}=e,{id:s}=e,{style:c}=e,{icon:l}=e,{size:u}=e,{color:d}=e,{fw:f=!1}=e,{pull:p}=e,{scale:m=1}=e,{translateX:g=0}=e,{translateY:h=0}=e,{rotate:y}=e,{flip:b}=e,{spin:w=!1}=e,{pulse:$=!1}=e,{primaryColor:v=""}=e,{secondaryColor:x=""}=e,{primaryOpacity:N=1}=e,{secondaryOpacity:_=.4}=e,{swapOpacity:O=!1}=e;return t.$$set=t=>{"class"in t&&n(0,i=t.class),"id"in t&&n(1,s=t.id),"style"in t&&n(2,c=t.style),"icon"in t&&n(17,l=t.icon),"size"in t&&n(3,u=t.size),"color"in t&&n(4,d=t.color),"fw"in t&&n(5,f=t.fw),"pull"in t&&n(6,p=t.pull),"scale"in t&&n(18,m=t.scale),"translateX"in t&&n(19,g=t.translateX),"translateY"in t&&n(20,h=t.translateY),"rotate"in t&&n(21,y=t.rotate),"flip"in t&&n(22,b=t.flip),"spin"in t&&n(7,w=t.spin),"pulse"in t&&n(8,$=t.pulse),"primaryColor"in t&&n(9,v=t.primaryColor),"secondaryColor"in t&&n(10,x=t.secondaryColor),"primaryOpacity"in t&&n(11,N=t.primaryOpacity),"secondaryOpacity"in t&&n(12,_=t.secondaryOpacity),"swapOpacity"in t&&n(13,O=t.swapOpacity)},t.$$.update=()=>{16392&t.$$.dirty&&a&&u&&function(t,e){t.style.fontSize=e&&"lg"!==e&&"sm"!==e&&"xs"!==e?e.replace("x","em"):""}(a,u),131072&t.$$.dirty&&n(16,r=l&&l.icon||[0,0,"",[],""]),8126464&t.$$.dirty&&n(15,o=function(t,e,n,r,o,a=1,i="",s=""){let c=1,l=1;o&&("horizontal"==o?c=-1:"vertical"==o?l=-1:c=l=-1),"string"==typeof t&&(t=parseFloat(t)),"string"==typeof e&&(e=parseFloat(e)),"string"==typeof n&&(n=parseFloat(n));let u=`translate(${e*a}${i},${n*a}${i}) scale(${c*t},${l*t})`;return r&&(u+=` rotate(${r}${s})`),u}(m,g,h,y,b,512))},[i,s,c,u,d,f,p,w,$,v,x,N,_,O,a,o,r,l,m,g,h,y,b,function(t){C[t?"unshift":"push"]((()=>{a=t,n(14,a)}))}]}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");class V extends J{constructor(t){super(),H(this,t,Q,D,a,{class:0,id:1,style:2,icon:17,size:3,color:4,fw:5,pull:6,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:7,pulse:8,primaryColor:9,secondaryColor:10,primaryOpacity:11,secondaryOpacity:12,swapOpacity:13})}}var Z={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},tt={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},et={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]};class nt extends Error{}nt.prototype.name="AbortError";class rt extends Error{constructor(t,e,n){super(e),this.statusCode=t,this.errors=n}}rt.prototype.name="ClientApiError";class ot extends Error{}ot.prototype.name="NetworkError";class at extends Error{constructor(t,e){super(e),this.statusCode=t}}async function it(t,e){let n;try{const r=await fetch(t,e),{status:o,headers:a,ok:i}=r;let s;const c=function(t){const e=t.get("Content-Type");return!!e&&/^application\/json\b|^[^;]+\+json\b/.test(e)}(a);if(s=c?await r.json():await r.text(),t instanceof Request&&t.signal&&t.signal.aborted||e&&e.signal&&e.signal.aborted)n=new nt("Aborted deserialization");else{if(i)return[s,void 0];if(!(o>=400&&o<500))return[void 0,new at(o,"Server error")];n=new rt(o,`Invalid input on: ${t}`,s)}}catch(t){if(!(t instanceof Error&&"AbortError"===t.name))return[void 0,t];n=t}throw n}at.prototype.name="ServerApiError";class st extends J{constructor(t){super(),H(this,t,null,null,a,{})}}function ct(t){let e,n,r,o=!1;return function(a){void 0===e?(e=a,n=0,r=-1):e=function(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}(e,a);const i=e.length;let s=0;for(;n<i;){o&&(10===e[n]&&(s=++n),o=!1);let a=-1;for(;n<i&&-1===a;++n)switch(e[n]){case 58:-1===r&&(r=n-s);break;case 13:o=!0;case 10:a=n}if(-1===a)break;t(e.subarray(s,a),r),s=n,r=-1}s===i?e=void 0:0!==s&&(e=e.subarray(s),n-=s)}}var lt=window&&window.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};const ut="text/event-stream",dt=1e3,ft="last-event-id";function pt(t,e){var{signal:n,headers:r,onopen:o,onmessage:a,onclose:i,onerror:s,openWhenHidden:c,fetch:l}=e,u=lt(e,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise(((e,d)=>{const f=Object.assign({},r);let p;function m(){p.abort(),document.hidden||$()}f.accept||(f.accept=ut),c||document.addEventListener("visibilitychange",m);let g=dt,h=0;function y(){document.removeEventListener("visibilitychange",m),window.clearTimeout(h),p.abort()}null==n||n.addEventListener("abort",(()=>{y(),e()}));const b=null!=l?l:window.fetch,w=null!=o?o:mt;async function $(){var n;p=new AbortController;try{const n=await b(t,Object.assign(Object.assign({},u),{headers:f,signal:p.signal}));await w(n),await async function(t,e){const n=t.getReader();let r;for(;!(r=await n.read()).done;)e(r.value)}(n.body,ct(function(t,e,n){let r={data:"",event:"",id:"",retry:void 0};const o=new TextDecoder;return function(a,i){if(0===a.length)null==n||n(r),r={data:"",event:"",id:"",retry:void 0};else if(i>0){const n=o.decode(a.subarray(0,i)),s=i+(32===a[i+1]?2:1),c=o.decode(a.subarray(s));switch(n){case"data":r.data=r.data?r.data+"\n"+c:c;break;case"event":r.event=c;break;case"id":t(r.id=c);break;case"retry":const n=parseInt(c,10);isNaN(n)||e(r.retry=n)}}}}((t=>{t?f[ft]=t:delete f[ft]}),(t=>{g=t}),a))),null==i||i(),y(),e()}catch(t){if(!p.signal.aborted)try{const e=null!==(n=null==s?void 0:s(t))&&void 0!==n?n:g;window.clearTimeout(h),h=window.setTimeout($,e)}catch(t){y(),d(t)}}}$()}))}function mt(t){const e=t.headers.get("content-type");if(!(null==e?void 0:e.startsWith(ut)))throw new Error(`Expected content-type to be ${ut}, Actual: ${e}`)}function gt(t){let e,n,r,o,a,u,d;function p(t,e){return t[0]?yt:ht}let b=p(t),w=b(t),$=t[2]&&bt(t);return{c(){e=l("form"),n=l("p"),r=l("button"),w.c(),o=f(),$&&$.c(),y(r,"type","submit"),y(r,"class","button button-primary"),r.disabled=t[0],y(n,"class","submit"),y(e,"id","urlForm"),y(e,"action","#")},m(c,l){s(c,e,l),i(e,n),i(n,r),w.m(r,null),i(e,o),$&&$.m(e,null),a=!0,u||(d=m(e,"submit",h(g(t[3]))),u=!0)},p(t,n){b!==(b=p(t))&&(w.d(1),w=b(t),w&&(w.c(),w.m(r,null))),(!a||1&n)&&(r.disabled=t[0]),t[2]?$?($.p(t,n),4&n&&W($,1)):($=bt(t),$.c(),W($,1),$.m(e,null)):$&&(B(),F($,1,1,(()=>{$=null})),K())},i(t){a||(W($),a=!0)},o(t){F($),a=!1},d(t){t&&c(e),w.d(),$&&$.d(),u=!1,d()}}}function ht(t){let e;return{c(){e=d("Set up lead gen\n          ChatGPT chatbot now")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function yt(t){let e;return{c(){e=d("Setting up, please wait…")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function bt(t){let e,n,r,o=t[0]&&wt();return{c(){e=l("p"),o&&o.c(),n=d(t[2])},m(t,a){s(t,e,a),o&&o.m(e,null),i(e,n),r=!0},p(t,a){t[0]?o?1&a&&W(o,1):(o=wt(),o.c(),W(o,1),o.m(e,n)):o&&(B(),F(o,1,1,(()=>{o=null})),K()),(!r||4&a)&&b(n,t[2])},i(t){r||(W(o),r=!0)},o(t){F(o),r=!1},d(t){t&&c(e),o&&o.d()}}}function wt(t){let e,n,r;return e=new V({props:{icon:Z,spin:!0,class:"inline-block"}}),{c(){G(e.$$.fragment),n=f()},m(t,o){M(e,t,o),s(t,n,o),r=!0},i(t){r||(W(e.$$.fragment,t),r=!0)},o(t){F(e.$$.fragment,t),r=!1},d(t){t&&c(n),X(e,t)}}}function $t(t){let e,n,r=!t[1]&&gt(t);return{c(){r&&r.c(),e=p()},m(t,o){r&&r.m(t,o),s(t,e,o),n=!0},p(t,[n]){t[1]?r&&(B(),F(r,1,1,(()=>{r=null})),K()):r?(r.p(t,n),2&n&&W(r,1)):(r=gt(t),r.c(),W(r,1),r.m(e.parentNode,e))},i(t){n||(W(r),n=!0)},o(t){F(r),n=!1},d(t){t&&c(e),r&&r.d(t)}}}function vt(t,e,n){var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function s(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,s)}c((r=r.apply(t,e||[])).next())}))};const o=N();let{url:a=""}=e,{email:i=""}=e,{adminName:s=""}=e,{siteName:c=""}=e;class l extends Error{}let u=!1,d=!1,f="",p=0,m=0,g="";return t.$$set=t=>{"url"in t&&n(4,a=t.url),"email"in t&&n(5,i=t.email),"adminName"in t&&n(6,s=t.adminName),"siteName"in t&&n(7,c=t.siteName)},[u,d,f,function(){n(0,u=!0),n(2,f="");let t=2;o("creating"),pt("https://www.pbrain.biz/onboard/create",{method:"POST",openWhenHidden:!0,headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({url:a,email:i,adminName:s,siteName:c,onboardSource:1}),onopen(t){return r(this,void 0,void 0,(function*(){t.ok&&t.headers.get("content-type")===ut||(n(0,u=!1),n(2,f=""),o("error",{message:"Something went wrong. Please contact support@pbrain.biz."}))}))},onerror(e){if(e instanceof l||t<=0)throw n(0,u=!1),n(2,f=""),o("error",{message:"Something went wrong. Please try again."}),e;t-=1},onmessage(e){return r(this,void 0,void 0,(function*(){const r=JSON.parse(e.data);if("error"===r.status)throw n(0,u=!1),n(2,f=""),o("error",{message:"Something went wrong. Please try again."}),t-=1,new l;"continue"===r.status?n(2,f=r.message):"success"===r.status&&(n(2,f=""),p=r.appId,m=r.channelWebId,g=r.onboardId,n(1,d=!0),o("created",{appId:p,channelWebId:m,onboardId:g,signingKey:r.signingKey}))}))}})},a,i,s,c]}class xt extends J{constructor(t){super(),H(this,t,vt,$t,a,{url:4,email:5,adminName:6,siteName:7})}}function Nt(t){let e,n,r,o,a;return n=new V({props:{icon:tt,class:"mr-2"}}),{c(){e=l("div"),G(n.$$.fragment),r=f(),o=d(t[7]),y(e,"class","bg-emerald-100 border border-emerald-400 text-emerald-700 px-4 py-3 rounded mt-4"),y(e,"role","alert")},m(t,c){s(t,e,c),M(n,e,null),i(e,r),i(e,o),a=!0},p(t,e){(!a||128&e)&&b(o,t[7])},i(t){a||(W(n.$$.fragment,t),a=!0)},o(t){F(n.$$.fragment,t),a=!1},d(t){t&&c(e),X(n)}}}function _t(t){let e,n,r,o,a;return n=new V({props:{icon:et,class:"mr-2"}}),{c(){e=l("div"),G(n.$$.fragment),r=f(),o=d(t[8]),y(e,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mt-4"),y(e,"role","alert")},m(t,c){s(t,e,c),M(n,e,null),i(e,r),i(e,o),a=!0},p(t,e){(!a||256&e)&&b(o,t[8])},i(t){a||(W(n.$$.fragment,t),a=!0)},o(t){F(n.$$.fragment,t),a=!1},d(t){t&&c(e),X(n)}}}function Ct(t){let e,n;return e=new xt({props:{url:t[2],email:t[3],adminName:t[4],siteName:t[5]}}),e.$on("creating",t[13]),e.$on("created",t[15]),e.$on("error",t[14]),{c(){G(e.$$.fragment)},m(t,r){M(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.url=t[2]),8&n&&(r.email=t[3]),16&n&&(r.adminName=t[4]),32&n&&(r.siteName=t[5]),e.$set(r)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){F(e.$$.fragment,t),n=!1},d(t){X(e,t)}}}function Ot(t){let e;function n(t,e){return t[6]?Et:kt}let r=n(t),o=r(t);return{c(){o.c(),e=p()},m(t,n){o.m(t,n),s(t,e,n)},p(t,a){r===(r=n(t))&&o?o.p(t,a):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){t&&c(e),o.d(t)}}}function Et(t){let e,n,o,a,u,d,p,b,$,v,x,N;return{c(){e=l("form"),n=l("table"),o=l("tbody"),a=l("tr"),u=l("th"),u.textContent="PBrain id",d=l("td"),p=l("input"),b=f(),$=l("p"),v=l("input"),y(u,"scope","row"),y(p,"type","text"),y(p,"id","chatbot_id"),y(p,"name","pbrain_settings[chatbot_id]"),y(n,"class","form-table m-10"),y(n,"role","presentation"),y(v,"type","submit"),y(v,"name","submit"),y(v,"id","submit"),v.disabled=t[11],y(v,"class","button button-primary"),v.value="Save Changes",y($,"class","submit"),y(e,"method","post")},m(r,c){s(r,e,c),i(e,n),i(n,o),i(o,a),i(a,u),i(a,d),i(d,p),w(p,t[0]),i(e,b),i(e,$),i($,v),x||(N=[m(p,"input",t[18]),m(e,"submit",h(g(t[12])))],x=!0)},p(t,e){1&e&&p.value!==t[0]&&w(p,t[0]),2048&e&&(v.disabled=t[11])},d(t){t&&c(e),x=!1,r(N)}}}function kt(t){let e,n,r;function o(t,e){return t[9]?St:It}let a=o(t),i=a(t);return{c(){e=l("button"),i.c(),y(e,"type","button"),y(e,"class","button-link")},m(o,a){s(o,e,a),i.m(e,null),n||(r=m(e,"click",t[16]),n=!0)},p(t,n){a!==(a=o(t))&&(i.d(1),i=a(t),i&&(i.c(),i.m(e,null)))},d(t){t&&c(e),i.d(),n=!1,r()}}}function It(t){let e;return{c(){e=d("Already have an account on\n        PBrain.biz")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function St(t){let e;return{c(){e=d("Configure manually")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function Pt(t){let e,n,r,o,a,i,u,d,p,m,g;const h=[_t,Nt],b=[];function w(t,e){return t[8]?0:t[7]?1:-1}~(e=w(t))&&(n=b[e]=h[e](t));let $=!t[9]&&Ct(t),v=!t[10]&&!t[1]&&Ot(t);return m=new st({}),{c(){n&&n.c(),r=f(),o=l("h2"),o.textContent="General",a=f(),i=l("p"),i.textContent="Generate leads and better engage your customers with your custom ChatGPT",u=f(),$&&$.c(),d=f(),v&&v.c(),p=f(),G(m.$$.fragment),y(o,"id","pbrain_section_general")},m(t,n){~e&&b[e].m(t,n),s(t,r,n),s(t,o,n),s(t,a,n),s(t,i,n),s(t,u,n),$&&$.m(t,n),s(t,d,n),v&&v.m(t,n),s(t,p,n),M(m,t,n),g=!0},p(t,[o]){let a=e;e=w(t),e===a?~e&&b[e].p(t,o):(n&&(B(),F(b[a],1,1,(()=>{b[a]=null})),K()),~e?(n=b[e],n?n.p(t,o):(n=b[e]=h[e](t),n.c()),W(n,1),n.m(r.parentNode,r)):n=null),t[9]?$&&(B(),F($,1,1,(()=>{$=null})),K()):$?($.p(t,o),512&o&&W($,1)):($=Ct(t),$.c(),W($,1),$.m(d.parentNode,d)),t[10]||t[1]?v&&(v.d(1),v=null):v?v.p(t,o):(v=Ot(t),v.c(),v.m(p.parentNode,p))},i(t){g||(W(n),W($),W(m.$$.fragment,t),g=!0)},o(t){F(n),F($),F(m.$$.fragment,t),g=!1},d(t){t&&(c(r),c(o),c(a),c(i),c(u),c(d),c(p)),~e&&b[e].d(t),$&&$.d(t),v&&v.d(t),X(m,t)}}}function zt(t,e,n){let{chatbotId:r=""}=e,{onboardId:o=""}=e,{signingKey:a=""}=e,{url:i=""}=e,{email:s=""}=e,{adminName:c=""}=e,{siteName:l=""}=e,u=!1,d=r?"PBrain lead gen ChatGPT is already set up":"",f="",p=!!r,m=!1,g=!1;async function h(){n(7,d=""),n(8,f=""),n(11,g=!0);const t=new URLSearchParams;t.append("action","pbrain_settings_save"),t.append("_ajax_nonce",pbrain_wpplugin_global.nonce),t.append("data",JSON.stringify({chatbotId:r,onboardId:o,signingKey:a}));try{const{chatbotId:e}=await async function(t,e,n=2){let r;for(let o=0;o<n;++o){const[n,o]=await it(t,e);if(!o)return n;r=o}if(r)throw r;throw new ot("Network error")}(ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},body:t});n(0,r=e),n(7,d="PBrain lead gen ChatGPT has been added."),n(6,u=!1),n(9,p=!0)}catch{n(8,f="Something went wrong. Please try again.")}n(10,m=!1),n(11,g=!1)}return t.$$set=t=>{"chatbotId"in t&&n(0,r=t.chatbotId),"onboardId"in t&&n(1,o=t.onboardId),"signingKey"in t&&n(17,a=t.signingKey),"url"in t&&n(2,i=t.url),"email"in t&&n(3,s=t.email),"adminName"in t&&n(4,c=t.adminName),"siteName"in t&&n(5,l=t.siteName)},[r,o,i,s,c,l,u,d,f,p,m,g,h,function(){n(7,d=""),n(8,f=""),n(10,m=!0)},function(t){const{message:e}=t.detail;n(8,f=e),n(10,m=!1)},async function(t){const{appId:e,channelWebId:i,onboardId:s,signingKey:c}=t.detail;n(0,r=`${e}-${i}`),n(1,o=s),n(17,a=c),await h()},function(){n(6,u=!u)},a,function(){r=this.value,n(0,r)}]}const jt=document.getElementById("pbrain-options"),At=jt?jt.dataset:{};return new class extends J{constructor(t){super(),H(this,t,zt,Pt,a,{chatbotId:0,onboardId:1,signingKey:17,url:2,email:3,adminName:4,siteName:5})}}({target:jt,props:At})}();
//# sourceMappingURL=bundle-CW6rx_Hs.js.map
